"use strict";(self.webpackChunkdolna=self.webpackChunkdolna||[]).push([[678],{5700:function(e,t,n){n.d(t,{W:function(){return y},u:function(){return N}});var l=n(7294);n(3935);const r=(0,l.createContext)(null),a=r.Provider;function o(e,t){return null==t?function(t,n){return(0,l.useRef)(e(t,n))}:function(n,r){const a=(0,l.useRef)(e(n,r)),o=(0,l.useRef)(n),{instance:c}=a.current;return(0,l.useEffect)((function(){o.current!==n&&(t(c,n,o.current),o.current=n)}),[c,n,r]),a}}function c(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function u(e){return function(t){const n=function(){const e=(0,l.useContext)(r);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}(),a=e(c(t,n),n);return function(e,t){const n=(0,l.useRef)(t);(0,l.useEffect)((function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t}),[e,t])}(n.map,t.attribution),function(e,t){const n=(0,l.useRef)();(0,l.useEffect)((function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}}),[e,t])}(a.current,t.eventHandlers),function(e,t){(0,l.useEffect)((function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var n;null==(n=t.layerContainer)||n.removeLayer(e.instance),t.map.removeLayer(e.instance)}}),[t,e])}(a.current,n),a}}var s=n(7678);const i=function(e){function t(t,n){const{instance:r}=e(t).current;return(0,l.useImperativeHandle)(n,(()=>r)),null}return(0,l.forwardRef)(t)}(u(o((function(e,t){let{url:n,...l}=e;return{instance:new s.TileLayer(n,c(l,t)),context:t}}),(function(e,t,n){const{opacity:l,zIndex:r}=t;null!=l&&l!==n.opacity&&e.setOpacity(l),null!=r&&r!==n.zIndex&&e.setZIndex(r)}))));function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},m.apply(this,arguments)}function f(e){let{children:t,className:n,id:r,placeholder:o,style:c,whenCreated:u,...i}=e;const f=(0,l.useRef)(null),d=function(e,t){const[n,r]=(0,l.useState)(null);return(0,l.useEffect)((()=>{if(null!==e.current&&null===n){const n=new s.Map(e.current,t);null!=t.center&&null!=t.zoom?n.setView(t.center,t.zoom):null!=t.bounds&&n.fitBounds(t.bounds,t.boundsOptions),null!=t.whenReady&&n.whenReady(t.whenReady),r(n)}}),[e,n,t]),n}(f,i),p=(0,l.useRef)(!1);(0,l.useEffect)((()=>{null!=d&&!1===p.current&&null!=u&&(p.current=!0,u(d))}),[d,u]),(0,l.useEffect)((()=>()=>{null==d||d.remove()}),[d]);const[g]=(0,l.useState)({className:n,id:r,style:c}),b=(0,l.useMemo)((()=>d?{__version:1,map:d}:null),[d]),E=b?l.createElement(a,{value:b},t):o??null;return l.createElement("div",m({},g,{ref:f}),E)}const d=function(e,t){return function(e){function t(t,n){const{instance:r,context:o}=e(t).current;return(0,l.useImperativeHandle)(n,(()=>r)),null==t.children?null:l.createElement(a,{value:o},t.children)}return(0,l.forwardRef)(t)}(u(o(e,t)))}((function(e,t){let{position:n,...l}=e;const r=new s.Marker(n,l);return{instance:r,context:{...t,overlayContainer:r}}}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}));var p=n(4340),g=n(2577),b=n(365),E=n(3279),w=n(4554),v=n(4710);var x=e=>{let{pub:t,close:n}=e,r="https://maps.google.com/maps/search/?api=1&query="+encodeURIComponent(t.Latitude+","+t.Longitude);t.GoogleMapsUrl&&(r=t.GoogleMapsUrl);let a=t.Ambience+t.Food+t.Host+t.Booze+t.Budget;return console.log(t),l.createElement("div",{className:"z-20 grow w-full basis-0 relative"},l.createElement("div",{onClick:e=>n(e),className:"z-20 icon-cross text-red text-5xl p-1 bg-gray-dark absolute -left-14"}),l.createElement("div",{className:"flex flex-col lg:flex-row gap-8"},l.createElement("div",{className:"imageWrapper flex-shrink-0 w-full lg:w-96"},l.createElement(g.Z,{image:t.Image.localFile,alt:t.Name})),l.createElement("div",{className:"contentWrapper flex-grow"},l.createElement("div",{className:"border-b border-gray-medium mb-8 pb-4"},l.createElement("div",{className:"flex content-center items-center"},l.createElement(p.Z,{className:"flex-grow"},l.createElement(v.Z,{to:"/dln/"+t.Slug},`${t.Name} (${a}/25)`)),l.createElement("div",{className:"flex gap-4"},t.pub_tags.map((e=>l.createElement(b.Z,{key:e.Slug,tag:e}))))),l.createElement("address",{className:"not-italic text-red hover:text-gray-light"},l.createElement(w.Z,{href:r},t.Address))),l.createElement("p",null,t.Description))),l.createElement("div",{className:"flex flex-col text-sm lg:flex-row mt-4 mb-4"},l.createElement("div",{className:"w-full mb-2 lg:w-auto lg:mb-0 lg:flex-grow"},l.createElement(E.ZP,{name:"Ambience",score:t.Ambience})),l.createElement("div",{className:"w-full mb-2 lg:w-auto lg:mb-0 lg:flex-grow"},l.createElement(E.ZP,{name:"Food",score:t.Food})),l.createElement("div",{className:"w-full mb-2 lg:w-auto lg:mb-0 lg:flex-grow"},l.createElement(E.ZP,{name:"Host",score:t.Host})),l.createElement("div",{className:"w-full mb-2 lg:w-auto lg:mb-0 lg:flex-grow"},l.createElement(E.ZP,{name:"Booze",score:t.Booze})),l.createElement("div",{className:"w-full mb-2 lg:w-auto lg:mb-0 lg:flex-grow"},l.createElement(E.ZP,{name:"Budget",score:t.Budget}))))};const h=()=>l.createElement(i,{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",attribution:'© <a href="https://stadiamaps.com/">Stadia Maps</a>, © <a href="https://openmaptiles.org/">OpenMapTiles</a> © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}),y=e=>{let{pubs:t}=e;const n=[42.6890335,23.3265247],{0:r,1:a}=(0,l.useState)(null);return"undefined"!=typeof window?l.createElement("div",{className:"flex transition-bounce"},l.createElement(f,{center:n,zoom:13,className:"z-10 grow w-full h-full min-h-full min-h-full-page"},l.createElement(h,null),t.map(((e,t)=>l.createElement(d,{key:e.node.id,position:[e.node.Latitude,e.node.Longitude],eventHandlers:{click:()=>{a(t)}}})))),r&&l.createElement(x,{close:()=>{a(null)},pub:t[r].node})):null},N=e=>{let{lat:t,lng:n}=e;const r=[t,n];return"undefined"!=typeof window?l.createElement(f,{center:r,zoom:15,className:"h-full"},l.createElement(h,null),l.createElement(d,{position:r})):null}},7704:function(e,t,n){n.r(t);var l=n(7294),r=n(7607),a=n(5700),o=n(5444);t.default=()=>l.createElement(r.Z,null,l.createElement(o.StaticQuery,{query:"212553555",render:e=>l.createElement(a.W,{pubs:e.allStrapiPub.edges,className:"h-full min-h-full"})}))}}]);
//# sourceMappingURL=component---src-pages-index-js-61999550c0e7e98a286d.js.map